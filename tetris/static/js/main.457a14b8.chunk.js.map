{"version":3,"sources":["utils/config.js","components/general/Icon.js","components/general/Tappable.js","components/general/Header.js","components/general/HintLayout.js","components/general/LoadingLayout.js","components/general/PageMeta.js","components/general/RedirectLayout.js","components/hoc/lifecycle.js","components/hoc/mobxify.js","stores/toastStore.js","components/general/Toast.js","utils/misc.js","utils/matrix.js","models/shape.js","utils/random.js","models/grid.js","stores/gameStore.js","pages/home/GameView.js","pages/home/GameControls.js","pages/home/HomePage.js","stores/index.js","App.js","utils/stickyHover.js","index.js"],"names":["config","projectName","Icon","_ref","name","className","React","createElement","classNames","Object","defineProperty","children","Tappable","component","disabled","remainingProps","objectWithoutProperties","objectSpread","Header","title","backTo","react_default","a","general_Tappable","Link","to","general_Icon","HintLayout","message","actionLabel","actionFn","onClick","defaultProps","LoadingLayout","siteName","ogProperties","PageMeta","metaProps","meta","site_name","Helmet","description","content","map","property","index","key","RedirectLayout","lifecycle","hooks","BaseComponent","WrapperComponent","_Component","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","value","props","Component","forOwn","v","k","prototype","mobxify","compose","inject","observer","ToastStore","_this","_timer","timeout","show","length","undefined","hide","setTimeout","clearTimeout","decorate","observable","action","stores_toastStore","toastStore","isNullOrUndef","createMatrix","rowSize","colSize","Array","fill","iterateMatrix","matrix","callback","rowIndex","colIndex","rotateMatrix","rowsLen","rotatedMatrix","Shape","id","grid","position","_isValidConfiguration","_this$_calculateTopLe","_calculateTopLeftPosition","_this$_calculateTopLe2","slicedToArray","gridRowIndex","gridColIndex","isFilledInShape","isFilledInGrid","isValidPosition","_canMove","_canRotate","bottomLeftPosition","_bottomLeftPosition","advance","nextPosition","recursive","_advanceInterval","clearInterval","_this$position","initialColIndex","placeAndEvaluate","move","step","_this$position2","rotate","stop","_init","cloneDeep","fixedShapes","min","max","random","Math","floor","randomInt","_this2","setInterval","speed","parseInt","topLeftPosition","computed","quickPlace","Grid","options","score","isStarted","isEnded","shape","_nextShapeId","_addShape","generate","_evaluate","clonedMatrix","toJS","removedRows","remove","o","every","newRows","unshift","_place","_position","restart","start","_options","assign","defaultOptions","_this$shape$topLeftPo","matrixWithShapes","GameStore","instance","retry","place","gameStore","defaultColor","colors","gameEventsHandler","event","store","keyCode","hoc","componentDidMount","document","addEventListener","componentWillUnmount","removeEventListener","row","concat","item","style","backgroundColor","toString","padStart","actionProps","actionsUi","statusProps","statusUi","general_PageMeta","general_Header","home_GameView","home_GameControls","stores","App","mobx_react_module","react_router_dom","basename","react_router","exact","path","HomePage","general_Toast","addTouchClass","e","documentElement","classList","add","ReactDOM","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.457a14b8.chunk.js","sourcesContent":["// This generally should go into a env file, its fine here as this a demo app\nexport default {\n  projectName: \"tetris\"\n};\n","import React from \"react\";\nimport classNames from \"classnames\";\n\nfunction Icon({ name, className }) {\n  return React.createElement(\"i\", {\n    className: classNames(\"material-icons\", { [className]: className }),\n    children: name\n  });\n}\n\nexport default Icon;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport classNames from \"classnames\";\n\nfunction Tappable({ className, component, disabled, ...remainingProps }) {\n  return React.createElement(component || \"a\", {\n    className: classNames(\"tappable\", { disabled }, { [className]: className }),\n    ...remainingProps\n  });\n}\n\nTappable.propTypes = {\n  className: PropTypes.string,\n  disabled: PropTypes.bool\n};\n\nexport default Tappable;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Link } from \"react-router-dom\";\n\nimport Icon from \"./Icon\";\nimport Tappable from \"./Tappable\";\n\nfunction Header({ title, backTo }) {\n  return (\n    <div className=\"layout-header\">\n      {backTo && (\n        <div className=\"layout-header-item\">\n          <Tappable className=\"btn btn-small\" component={Link} to={backTo}>\n            <Icon name=\"arrow_back\" />\n          </Tappable>\n        </div>\n      )}\n      <div className=\"layout-header-item layout-header-title\">\n        {title || \"Blog\"}\n      </div>\n    </div>\n  );\n}\n\nHeader.propTypes = {\n  backTo: PropTypes.string,\n  title: PropTypes.string\n};\n\nexport default Header;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport Tappable from \"./Tappable\";\n\nfunction HintLayout({ message, actionLabel, actionFn }) {\n  return (\n    <div className=\"layout\">\n      <div className=\"layout-content is-centered pad\">\n        <p>{message}</p>\n        {actionLabel &&\n          actionFn && (\n            <Tappable className=\"btn mgn-t\" onClick={actionFn}>\n              {actionLabel}\n            </Tappable>\n          )}\n      </div>\n    </div>\n  );\n}\n\nHintLayout.defaultProps = {\n  actionLabel: \"Try Again\"\n};\n\nHintLayout.propTypes = {\n  message: PropTypes.string.isRequired,\n  actionFn: PropTypes.func,\n  actionLabel: PropTypes.string\n};\n\nexport default HintLayout;\n","import React from \"react\";\n\nfunction LoadingLayout() {\n  return (\n    <div className=\"layout\">\n      <div className=\"layout-content is-centered pad\">\n        <div className=\"spinner\" />\n      </div>\n    </div>\n  );\n}\n\nexport default LoadingLayout;\n","import React from \"react\";\nimport { Helmet } from \"react-helmet\";\n\nconst siteName = \"Tetris\";\n\nconst ogProperties = [\"site_name\", \"title\", \"description\", \"image\", \"url\"];\n\nfunction PageMeta(metaProps) {\n  const meta = {\n    ...metaProps,\n    site_name: siteName\n  };\n\n  function titleTag() {\n    if (meta.title) {\n      return (\n        <title>\n          {meta.title} | {siteName}\n        </title>\n      );\n    } else {\n      return null;\n    }\n  }\n\n  function descriptionTag() {\n    if (meta.description) {\n      return <meta name=\"description\" content={meta.description} />;\n    } else {\n      return null;\n    }\n  }\n\n  function ogTags() {\n    return ogProperties.map((property, index) => {\n      if (meta[property]) {\n        return (\n          <meta\n            key={index}\n            property={\"og:\" + property}\n            content={meta[property]}\n          />\n        );\n      } else {\n        return null;\n      }\n    });\n  }\n\n  return (\n    <Helmet>\n      {titleTag()}\n      {descriptionTag()}\n      {ogTags()}\n    </Helmet>\n  );\n}\n\nexport default PageMeta;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Link } from \"react-router-dom\";\n\nimport Tappable from \"./Tappable\";\n\nfunction RedirectLayout({ message, linkTitle, linkTo }) {\n  return (\n    <div className=\"layout\">\n      <div className=\"layout-content is-centered pad\">\n        <p>{message}</p>\n        {linkTitle && linkTo && (\n          <Tappable className=\"btn mgn-t\" component={Link} to={linkTo}>\n            {linkTitle}\n          </Tappable>\n        )}\n      </div>\n    </div>\n  );\n}\n\nRedirectLayout.propTypes = {\n  message: PropTypes.string.isRequired,\n  linkTo: PropTypes.string,\n  linkTitle: PropTypes.string\n};\n\nexport default RedirectLayout;\n","import React, { Component } from \"react\";\nimport forOwn from \"lodash/forOwn\";\n\n/**\n * A higher order component for using React lifecycle hooks with\n * functional components.\n */\nconst lifecycle = hooks => BaseComponent => {\n  class WrapperComponent extends Component {\n    render() {\n      return <BaseComponent {...this.props} />;\n    }\n  }\n\n  forOwn(hooks, (v, k) => (WrapperComponent.prototype[k] = v));\n\n  return WrapperComponent;\n};\n\nexport default lifecycle;\n","import { inject, observer } from \"mobx-react\";\nimport compose from \"lodash/fp/compose\";\n\nfunction mobxify(...stores) {\n  return compose(\n    inject(...stores),\n    observer\n  );\n}\n\nexport default mobxify;\n","import { action, decorate, observable } from \"mobx\";\n\nconst defaultTimeout = 1000;\n\n// TODO add queuing support\nexport class ToastStore {\n  _timer = null;\n\n  content = null;\n  // Time in ms\n  timeout = defaultTimeout;\n\n  show = (content, timeout = defaultTimeout) => {\n    // Hide if there is any `Toast`\n    this.hide();\n\n    this.content = content;\n    this.timeout = timeout;\n\n    this._timer = setTimeout(this.hide, timeout);\n  };\n\n  // Hides any active toast\n  hide = () => {\n    clearTimeout(this._timer);\n\n    this.content = null;\n    this.timeout = defaultTimeout;\n  };\n}\n\ndecorate(ToastStore, {\n  content: observable,\n  show: action,\n  hide: action\n});\n\nexport default new ToastStore();\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { mobxify } from \"../hoc\";\nimport { ToastStore } from \"../../stores/toastStore\";\n\n// Single component controlled by `toastStore`\nfunction Toast({ toastStore }) {\n  if (!toastStore.content) return null;\n\n  return (\n    <div className=\"toast\">\n      <div className=\"toast-content\">{toastStore.content}</div>\n    </div>\n  );\n}\n\nToast.propTypes = {\n  toastStore: PropTypes.instanceOf(ToastStore)\n};\n\nexport default mobxify(\"toastStore\")(Toast);\n","export function isNullOrUndef(value) {\n  return value === null || value === undefined;\n}\n","import { isNullOrUndef } from \"./misc\";\n\nexport function createMatrix(rowSize, colSize, fill = -1) {\n  return new Array(rowSize).fill(0).map(() => new Array(colSize).fill(-1));\n}\n\nexport function iterateMatrix(matrix, callback) {\n  const rowSize = matrix.length;\n  const colSize = rowSize === 0 ? 0 : matrix[0].length;\n\n  let rowIndex = 0,\n    colIndex = 0;\n  // Traditional `while` is used instead of `Array.prototype.forEach` because\n  // we want to allow breaking loop by returning a non null value in callback\n  // or not used `for..in` loop because we want array indices as number not\n  // string\n  while (rowIndex < rowSize) {\n    while (colIndex < colSize) {\n      const value = callback(rowIndex, colIndex, matrix);\n      if (!isNullOrUndef(value)) {\n        return value;\n      }\n      colIndex += 1;\n    }\n\n    colIndex = 0;\n    rowIndex += 1;\n  }\n}\n\nexport function rotateMatrix(matrix) {\n  const rowsLen = matrix.length;\n  const colsLen = matrix[0].length;\n  const rotatedMatrix = createMatrix(colsLen, rowsLen);\n\n  iterateMatrix(matrix, (rowIndex, colIndex) => {\n    rotatedMatrix[colIndex][rowsLen - 1 - rowIndex] =\n      matrix[rowIndex][colIndex];\n  });\n\n  return rotatedMatrix;\n}\n","import { decorate, observable, action, computed } from \"mobx\";\nimport cloneDeep from \"lodash/cloneDeep\";\n\nimport { randomInt } from \"../utils/random\";\nimport { iterateMatrix, rotateMatrix } from \"../utils/matrix\";\n\nclass Shape {\n  // static fixedShapes = [[[1, 1]], [[1, 1, 1]], [[1]]];\n  static fixedShapes = [\n    [[1, -1, -1, -1], [1, 1, 1, 1]],\n    [[-1, -1, -1, 1], [1, 1, 1, 1]],\n    [[1, 1, 1]],\n    [[-1, 1, -1], [1, 1, 1]]\n  ];\n\n  // Generates a random shape\n  static generate(id, grid) {\n    const matrix = cloneDeep(\n      Shape.fixedShapes[randomInt(0, Shape.fixedShapes.length - 1)]\n    );\n\n    iterateMatrix(matrix, (rowIndex, colIndex) => {\n      if (matrix[rowIndex][colIndex] !== -1) {\n        matrix[rowIndex][colIndex] = id;\n      }\n    });\n    return new Shape(id, matrix, grid);\n  }\n\n  matrix = null;\n  // Represented as [x, y], denotes the position of bottom left element of the\n  // shape in the grid\n  position = null;\n\n  constructor(id, matrix, grid) {\n    this.id = id;\n    this.matrix = matrix;\n    this.grid = grid;\n\n    this._init();\n  }\n\n  _init() {\n    this.advance();\n    this._advanceInterval = setInterval(() => this.advance(), this.grid.speed);\n  }\n\n  _isValidConfiguration = (position, matrix) => {\n    const [gridRowIndex, gridColIndex] = this._calculateTopLeftPosition(\n      matrix,\n      position\n    );\n\n    // Check if shape has already reached last row of grid or edge of column\n    if (\n      // Check if crosses last row\n      position[0] > this.grid.rowSize - 1 ||\n      // Check if crosses left most column\n      position[1] < 0 ||\n      // Check if crosses right most column\n      position[1] + matrix[0].length - 1 >= this.grid.colSize\n    ) {\n      return false;\n    }\n\n    // Returns true if config is not valid\n    const isNotValid = iterateMatrix(matrix, (rowIndex, colIndex, matrix) => {\n      const isFilledInShape = matrix[rowIndex][colIndex] > -1;\n      let isFilledInGrid = false;\n      if (\n        this.grid.isValidPosition(\n          gridRowIndex + rowIndex,\n          gridColIndex + colIndex\n        )\n      ) {\n        isFilledInGrid =\n          this.grid.matrix[gridRowIndex + rowIndex][gridColIndex + colIndex] >\n          -1;\n      }\n\n      if (isFilledInShape && isFilledInGrid) {\n        return true;\n      }\n    });\n\n    if (isNotValid) {\n      return false;\n    } else {\n      return true;\n    }\n  };\n\n  _canMove = position => {\n    return this._isValidConfiguration(position, this.matrix);\n  };\n\n  _canRotate = () => {\n    return this._isValidConfiguration(this.position, rotateMatrix(this.matrix));\n  };\n\n  _calculateTopLeftPosition = (matrix, bottomLeftPosition) => {\n    const rowSize = matrix.length;\n    const [rowIndex, colIndex] = bottomLeftPosition;\n    return [rowIndex - rowSize + 1, colIndex];\n  };\n\n  // `recursive = true` will make shape advance till it cannot advance anymore\n  advance = (recursive = false) => {\n    if (recursive && this._advanceInterval) {\n      clearInterval(this._advanceInterval);\n    }\n\n    let nextPosition;\n    if (!this.position) {\n      nextPosition = [0, this.initialColIndex];\n    } else {\n      const [rowIndex, colIndex] = this.position;\n      nextPosition = [rowIndex + 1, colIndex];\n    }\n\n    if (this._canMove(nextPosition)) {\n      this.position = nextPosition;\n      if (recursive) {\n        this.advance(recursive);\n      }\n    } else {\n      clearInterval(this._advanceInterval);\n      this.grid.placeAndEvaluate(this);\n    }\n  };\n\n  move = step => {\n    if (this.position) {\n      const [rowIndex, colIndex] = this.position;\n      const nextPosition = [rowIndex, colIndex + step];\n      if (this._canMove(nextPosition)) {\n        this.position = nextPosition;\n      }\n    }\n  };\n\n  rotate = () => {\n    if (this.position && this._canRotate()) {\n      this.matrix = rotateMatrix(this.matrix);\n    }\n  };\n\n  stop = () => {\n    clearTimeout(this._advanceInterval);\n  };\n\n  get topLeftPosition() {\n    if (!this.position) return null;\n    return this._calculateTopLeftPosition(this.matrix, this.position);\n  }\n\n  get initialColIndex() {\n    return (\n      parseInt((this.grid.colSize - 1) / 2, 10) - parseInt(this.colSize / 2, 10)\n    );\n  }\n\n  get colSize() {\n    // Assuming that minimum `rowSize` is 1\n    return this.matrix[0].length;\n  }\n\n  get rowSize() {\n    return this.matrix.length;\n  }\n}\n\ndecorate(Shape, {\n  matrix: observable,\n  position: observable,\n  topLeftPosition: computed,\n  advance: action,\n  move: action,\n  quickPlace: action\n});\n\nexport default Shape;\n","export function randomInt(min, max) {\n  var random = Math.floor(Math.random() * (max - min + 1)) + min;\n\n  if (random > max) random = max;\n  return random;\n}\n","import { action, computed, observable, decorate, toJS } from \"mobx\";\nimport remove from \"lodash/remove\";\n\nimport { createMatrix, iterateMatrix } from \"../utils/matrix\";\nimport Shape from \"./shape\";\n\nclass Grid {\n  static defaultOptions = {\n    rowSize: 15,\n    colSize: 10,\n    // Speed with which shape will move this can be used as difficuly setting\n    speed: 500\n  };\n\n  matrix = null;\n  score = 0;\n  isStarted = false;\n  isEnded = false;\n  shape = null;\n  _nextShapeId = 0;\n\n  constructor(options = {}) {\n    this._options = Object.assign({}, Grid.defaultOptions, options);\n    this.matrix = createMatrix(this.rowSize, this.colSize);\n  }\n\n  _addShape = () => (this.shape = Shape.generate(this._nextShapeId++, this));\n\n  _evaluate = () => {\n    const clonedMatrix = toJS(this.matrix);\n    const removedRows = remove(clonedMatrix, o => o.every(v => v > -1));\n    const newRows = createMatrix(removedRows.length, this.colSize);\n    // Adds new empty rows at the top to account for the removed rows\n    Array.prototype.unshift.apply(clonedMatrix, newRows);\n\n    this.score += removedRows.length * this.colSize;\n    this.matrix = clonedMatrix;\n  };\n\n  _place = shape => {\n    const position = shape.topLeftPosition;\n    if (!position) {\n      return false;\n    } else {\n      const [gridRowIndex, gridColIndex] = position;\n\n      // Will return true if failed to place any element from shape in grid\n      const didPlaceFail = iterateMatrix(\n        shape.matrix,\n        (rowIndex, colIndex, matrix) => {\n          if (matrix[rowIndex][colIndex] > -1) {\n            if (\n              this.isValidPosition(\n                gridRowIndex + rowIndex,\n                gridColIndex + colIndex\n              )\n            ) {\n              this.matrix[rowIndex + gridRowIndex][colIndex + gridColIndex] =\n                shape.id;\n            } else {\n              return true;\n            }\n          }\n        }\n      );\n\n      if (didPlaceFail) {\n        return false;\n      } else {\n        // Dereference shape\n        this.shape = null;\n        return true;\n      }\n    }\n  };\n\n  isValidPosition = (rowIndex, colIndex) => {\n    return (\n      rowIndex >= 0 &&\n      rowIndex < this.rowSize &&\n      colIndex >= 0 &&\n      colIndex < this.colSize\n    );\n  };\n\n  move = step => {\n    if (!this.isEnded && this.shape) {\n      this.shape.move(step);\n    }\n  };\n\n  placeAndEvaluate = shape => {\n    const didPlaceSucceed = this._place(shape);\n    if (didPlaceSucceed) {\n      this._evaluate();\n      this._addShape();\n    } else {\n      this.isEnded = true;\n    }\n  };\n\n  quickPlace = () => {\n    if (!this.isEnded && this.shape) {\n      this.shape.advance(true);\n    }\n  };\n\n  rotate = () => {\n    if (!this.isEnded && this.shape) {\n      this.shape.rotate();\n    }\n  };\n\n  restart = () => {\n    if (this.shape) this.shape.stop();\n\n    this.matrix = createMatrix(this.rowSize, this.colSize);\n    this.isStarted = false;\n    this.isEnded = false;\n    this.shape = null;\n    this.score = 0;\n    this._nextShapeId = 0;\n\n    this.start();\n  };\n\n  start = () => {\n    if (!this.isStarted) {\n      this._addShape();\n      this.isStarted = true;\n    }\n  };\n\n  get colSize() {\n    return this._options.colSize;\n  }\n\n  get rowSize() {\n    return this._options.rowSize;\n  }\n\n  get isAction() {\n    return this.isStarted && !this.isEnded;\n  }\n\n  get speed() {\n    return this._options.speed;\n  }\n\n  get matrixWithShapes() {\n    const matrix = toJS(this.matrix);\n    if (this.shape && this.shape.position) {\n      const [gridRowIndex, gridColIndex] = this.shape.topLeftPosition;\n\n      iterateMatrix(this.shape.matrix, (rowIndex, colIndex) => {\n        if (this.shape.matrix[rowIndex][colIndex] > -1) {\n          if (\n            this.isValidPosition(\n              gridRowIndex + rowIndex,\n              gridColIndex + colIndex\n            )\n          ) {\n            matrix[gridRowIndex + rowIndex][\n              gridColIndex + colIndex\n            ] = this.shape.id;\n          }\n        }\n      });\n    }\n\n    return matrix;\n  }\n}\n\ndecorate(Grid, {\n  matrix: observable,\n  shape: observable,\n  isStarted: observable,\n  isEnded: observable,\n  score: observable,\n  _addShape: action,\n  _evaluate: action,\n  _place: action,\n  placeAndEvaluate: action,\n  restart: action,\n  start: action,\n  matrixWithShapes: computed\n});\n\nexport default Grid;\n","import Grid from \"../models/grid\";\nimport { decorate, observable, action } from \"mobx\";\n\nclass GameStore {\n  instance = new Grid();\n\n  start = () => {\n    this.instance.start();\n  };\n\n  retry = () => this.instance.restart();\n\n  rotate = () => this.instance.rotate();\n\n  move = step => this.instance.move(step);\n\n  place = () => this.instance.quickPlace();\n}\n\ndecorate(GameStore, {\n  instance: observable,\n  start: action\n});\n\nexport default new GameStore();\n","import React from \"react\";\nimport compose from \"lodash/fp/compose\";\n\nimport { lifecycle, mobxify } from \"../../components/hoc\";\nimport gameStore from \"../../stores/gameStore\";\n\nconst defaultColor = \"#f2f2f2\";\n\nconst colors = [\n  \"#69A2B0\",\n  \"#659157\",\n  \"#E05263\",\n  \"#477998\",\n  \"#663F46\",\n  \"#7692FF\"\n];\n\nconst gameEventsHandler = event => {\n  const store = gameStore;\n  if (!store.instance) return;\n\n  const { keyCode } = event;\n  switch (keyCode) {\n    // Left arrow\n    case 37:\n      store.move(-1);\n      break;\n    case 38:\n      store.rotate();\n      break;\n    // Right arrow\n    case 39:\n      store.move(1);\n      break;\n    // Down arrow\n    case 40:\n      store.place();\n      break;\n    default:\n    // Ignore\n  }\n};\n\nfunction GameView({ gameStore: store }) {\n  const grid = store.instance;\n  const matrix = grid.matrixWithShapes;\n\n  return (\n    <div className=\"game-grid\">\n      {matrix.map((row, rowIndex) => (\n        <div key={`row/${rowIndex}`} className=\"game-grid-row\">\n          {row.map((item, colIndex) => (\n            <div\n              key={`col/${colIndex}`}\n              style={{\n                backgroundColor:\n                  item > -1 ? colors[item % colors.length] : defaultColor\n              }}\n              className=\"game-grid-col\"\n            />\n          ))}\n        </div>\n      ))}\n    </div>\n  );\n}\n\nconst hoc = compose(\n  lifecycle({\n    componentDidMount() {\n      document.addEventListener(\"keydown\", gameEventsHandler);\n    },\n\n    componentWillUnmount() {\n      document.removeEventListener(\"keydown\", gameEventsHandler);\n    }\n  }),\n  mobxify(\"gameStore\")\n);\n\nexport default hoc(GameView);\n","import React from \"react\";\n\nimport { Icon, Tappable } from \"../../components/general\";\nimport { mobxify } from \"../../components/hoc\";\n\nfunction GameControls({ gameStore: store, toastStore }) {\n  const grid = store.instance;\n\n  function scoreUi() {\n    return (\n      <div className=\"game-score-container game-detail sep-b\">\n        <div className=\"title mgn-b\">Score</div>\n        <div className=\"game-score\">\n          {grid.score.toString().padStart(4, \"0\")}\n        </div>\n      </div>\n    );\n  }\n\n  function controlsUi() {\n    return (\n      <div className=\"game-controls-container game-detail sep-b\">\n        <div className=\"title mgn-b\">Controls</div>\n        <div className=\"game-controls\">\n          <div className=\"game-control\">\n            <div className=\"game-control-label\">Rotate</div>\n            <Tappable className=\"btn btn-small\" onClick={() => store.rotate()}>\n              <Icon name=\"arrow_upward\" />\n            </Tappable>\n          </div>\n        </div>\n        <div className=\"game-controls\">\n          <div className=\"game-control\">\n            <Tappable className=\"btn btn-small\" onClick={() => store.move(-1)}>\n              <Icon name=\"arrow_back\" />\n            </Tappable>\n            <div className=\"game-control-label\">Move Left</div>\n          </div>\n          <div className=\"game-control\">\n            <Tappable className=\"btn btn-small\" onClick={() => store.place()}>\n              <Icon name=\"arrow_downward\" />\n            </Tappable>\n            <div className=\"game-control-label\">Quick Place</div>\n          </div>\n          <div className=\"game-control\">\n            <Tappable className=\"btn btn-small\" onClick={() => store.move(1)}>\n              <Icon name=\"arrow_forward\" />\n            </Tappable>\n            <div className=\"game-control-label\">Move Right</div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  function actionsUi() {\n    let actionProps;\n    if (!grid.isStarted) {\n      actionProps = {\n        children: \"Start Game\",\n        className: \"btn btn-small\",\n        onClick: () => store.start()\n      };\n    } else if (!grid.isEnded) {\n      actionProps = {\n        children: \"Reset Game\",\n        className: \"btn btn-danger btn-small\",\n        onClick: () => store.retry()\n      };\n    } else {\n      actionProps = {\n        children: \"Restart Game\",\n        className: \"btn btn-small\",\n        onClick: () => store.retry()\n      };\n    }\n\n    return (\n      <div className=\"game-actions game-detail sep-b\">\n        <div className=\"title mgn-b\">Actions</div>\n        <Tappable {...actionProps} />\n      </div>\n    );\n  }\n\n  function statusUi() {\n    let statusProps;\n    if (!grid.isStarted) {\n      statusProps = { children: \"Not Started\" };\n    } else if (!grid.isEnded) {\n      statusProps = { children: \"In Progress\", className: \"primary\" };\n    } else {\n      statusProps = { children: \"Game Ended!\", className: \"danger\" };\n    }\n\n    return (\n      <div className=\"game-status game-detail sep-b\">\n        <div className=\"title mgn-b\">Status</div>\n        <div {...statusProps} />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"game-details\">\n      {scoreUi()}\n      {controlsUi()}\n      {actionsUi()}\n      {statusUi()}\n    </div>\n  );\n}\n\nexport default mobxify(\"gameStore\", \"toastStore\")(GameControls);\n","import React from \"react\";\n\nimport { Header, PageMeta } from \"../../components/general\";\nimport { mobxify } from \"../../components/hoc\";\nimport GameView from \"./GameView\";\nimport GameControls from \"./GameControls\";\n\nfunction HomePage({ gameStore: store }) {\n  return (\n    <div className=\"layout is-main\">\n      <PageMeta title=\"Home\" />\n      <Header title=\"Tetris\" />\n      <div className=\"layout-content\">\n        <div className=\"game\">\n          <GameView />\n          <GameControls />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default mobxify(\"gameStore\")(HomePage);\n","import gameStore from \"./gameStore\";\nimport toastStore from \"./toastStore\";\n\nexport default {\n  gameStore,\n  toastStore\n};\n","import React from \"react\";\nimport { Route, BrowserRouter as Router, Switch } from \"react-router-dom\";\nimport { Provider } from \"mobx-react\";\n\nimport \"./App.scss\";\n\nimport config from \"./utils/config\";\nimport HomePage from \"./pages/home/HomePage\";\nimport stores from \"./stores\";\nimport { Toast } from \"./components/general\";\n\nfunction App() {\n  return (\n    <Provider {...stores}>\n      <Router basename={`/demos/${config.projectName}`}>\n        <Switch>\n          <Route exact path=\"/\" component={HomePage} />\n        </Switch>\n\n        <Toast />\n      </Router>\n    </Provider>\n  );\n}\n\nexport default App;\n","export function addStickyHoverFix() {\n  document.addEventListener(\n    \"touchstart\",\n    function addTouchClass(e) {\n      document.documentElement.classList.add(\"can-touch\");\n      document.removeEventListener(\"touchstart\", addTouchClass, false);\n    },\n    false\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\nimport { addStickyHoverFix } from \"./utils/stickyHover\";\n\n// On mobiles/touch enabled devices `:hover` is not removed on touch release.\n// So we handle it using below function.\naddStickyHoverFix();\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}