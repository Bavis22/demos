{"version":3,"sources":["utils/config.js","components/general/Icon.js","components/general/Tappable.js","components/general/Header.js","components/general/HintLayout.js","components/general/LoadingLayout.js","components/general/PageMeta.js","components/general/RedirectLayout.js","components/hoc/lifecycle.js","components/hoc/mobxify.js","stores/toastStore.js","components/general/Toast.js","utils/misc.js","utils/matrix.js","models/shape.js","utils/random.js","models/grid.js","stores/gameStore.js","pages/home/GameView.js","pages/home/GameControls.js","pages/home/HomePage.js","stores/index.js","App.js","utils/stickyHover.js","index.js"],"names":["config","projectName","Icon","_ref","name","className","React","createElement","classNames","Object","defineProperty","children","Tappable","component","disabled","remainingProps","objectWithoutProperties","objectSpread","Header","title","backTo","react_default","a","general_Tappable","Link","to","general_Icon","HintLayout","message","actionLabel","actionFn","onClick","defaultProps","LoadingLayout","siteName","ogProperties","PageMeta","metaProps","meta","site_name","Helmet","description","content","map","property","index","key","RedirectLayout","lifecycle","hooks","BaseComponent","WrapperComponent","_Component","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","value","props","Component","forOwn","v","k","prototype","mobxify","compose","inject","observer","ToastStore","_this","_timer","timeout","show","length","undefined","hide","setTimeout","clearTimeout","decorate","observable","action","stores_toastStore","toastStore","isNullOrUndef","createMatrix","rowSize","colSize","fill","Array","iterateMatrix","matrix","callback","rowIndex","colIndex","Shape","id","grid","position","_canMove","_this$_calculateTopLe","_calculateTopLeftPosition","_this$_calculateTopLe2","slicedToArray","gridRowIndex","gridColIndex","isFilledInShape","isFilledInGrid","isValidPosition","bottomLeftPosition","_bottomLeftPosition","advance","nextPosition","recursive","_advanceInterval","clearInterval","_this$position","initialColIndex","placeAndEvaluate","move","step","_this$position2","stop","_init","cloneDeep","fixedShapes","min","max","random","Math","floor","randomInt","_this2","setInterval","speed","parseInt","topLeftPosition","computed","quickPlace","Grid","options","score","isStarted","isEnded","shape","_nextShapeId","_addShape","generate","_evaluate","clonedMatrix","toJS","removedRows","remove","o","every","newRows","unshift","_place","_position","restart","start","_options","assign","defaultOptions","_this$shape$topLeftPo","matrixWithShapes","GameStore","instance","retry","place","gameStore","defaultColor","colors","gameEventsHandler","event","store","keyCode","hoc","componentDidMount","document","addEventListener","componentWillUnmount","removeEventListener","row","concat","item","style","backgroundColor","toString","padStart","actionProps","actionsUi","statusProps","statusUi","general_PageMeta","general_Header","home_GameView","home_GameControls","stores","App","mobx_react_module","react_router_dom","basename","react_router","exact","path","HomePage","general_Toast","addTouchClass","e","documentElement","classList","add","ReactDOM","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.3c10f9f6.chunk.js","sourcesContent":["// This generally should go into a env file, its fine here as this a demo app\nexport default {\n  projectName: \"tetris\"\n};\n","import React from \"react\";\nimport classNames from \"classnames\";\n\nfunction Icon({ name, className }) {\n  return React.createElement(\"i\", {\n    className: classNames(\"material-icons\", { [className]: className }),\n    children: name\n  });\n}\n\nexport default Icon;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport classNames from \"classnames\";\n\nfunction Tappable({ className, component, disabled, ...remainingProps }) {\n  return React.createElement(component || \"a\", {\n    className: classNames(\"tappable\", { disabled }, { [className]: className }),\n    ...remainingProps\n  });\n}\n\nTappable.propTypes = {\n  className: PropTypes.string,\n  disabled: PropTypes.bool\n};\n\nexport default Tappable;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Link } from \"react-router-dom\";\n\nimport Icon from \"./Icon\";\nimport Tappable from \"./Tappable\";\n\nfunction Header({ title, backTo }) {\n  return (\n    <div className=\"layout-header\">\n      {backTo && (\n        <div className=\"layout-header-item\">\n          <Tappable className=\"btn btn-small\" component={Link} to={backTo}>\n            <Icon name=\"arrow_back\" />\n          </Tappable>\n        </div>\n      )}\n      <div className=\"layout-header-item layout-header-title\">\n        {title || \"Blog\"}\n      </div>\n    </div>\n  );\n}\n\nHeader.propTypes = {\n  backTo: PropTypes.string,\n  title: PropTypes.string\n};\n\nexport default Header;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport Tappable from \"./Tappable\";\n\nfunction HintLayout({ message, actionLabel, actionFn }) {\n  return (\n    <div className=\"layout\">\n      <div className=\"layout-content is-centered pad\">\n        <p>{message}</p>\n        {actionLabel &&\n          actionFn && (\n            <Tappable className=\"btn mgn-t\" onClick={actionFn}>\n              {actionLabel}\n            </Tappable>\n          )}\n      </div>\n    </div>\n  );\n}\n\nHintLayout.defaultProps = {\n  actionLabel: \"Try Again\"\n};\n\nHintLayout.propTypes = {\n  message: PropTypes.string.isRequired,\n  actionFn: PropTypes.func,\n  actionLabel: PropTypes.string\n};\n\nexport default HintLayout;\n","import React from \"react\";\n\nfunction LoadingLayout() {\n  return (\n    <div className=\"layout\">\n      <div className=\"layout-content is-centered pad\">\n        <div className=\"spinner\" />\n      </div>\n    </div>\n  );\n}\n\nexport default LoadingLayout;\n","import React from \"react\";\nimport { Helmet } from \"react-helmet\";\n\nconst siteName = \"React Template\";\n\nconst ogProperties = [\"site_name\", \"title\", \"description\", \"image\", \"url\"];\n\nfunction PageMeta(metaProps) {\n  const meta = {\n    ...metaProps,\n    site_name: siteName\n  };\n\n  function titleTag() {\n    if (meta.title) {\n      return (\n        <title>\n          {meta.title} | {siteName}\n        </title>\n      );\n    } else {\n      return null;\n    }\n  }\n\n  function descriptionTag() {\n    if (meta.description) {\n      return <meta name=\"description\" content={meta.description} />;\n    } else {\n      return null;\n    }\n  }\n\n  function ogTags() {\n    return ogProperties.map((property, index) => {\n      if (meta[property]) {\n        return (\n          <meta\n            key={index}\n            property={\"og:\" + property}\n            content={meta[property]}\n          />\n        );\n      } else {\n        return null;\n      }\n    });\n  }\n\n  return (\n    <Helmet>\n      {titleTag()}\n      {descriptionTag()}\n      {ogTags()}\n    </Helmet>\n  );\n}\n\nexport default PageMeta;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Link } from \"react-router-dom\";\n\nimport Tappable from \"./Tappable\";\n\nfunction RedirectLayout({ message, linkTitle, linkTo }) {\n  return (\n    <div className=\"layout\">\n      <div className=\"layout-content is-centered pad\">\n        <p>{message}</p>\n        {linkTitle && linkTo && (\n          <Tappable className=\"btn mgn-t\" component={Link} to={linkTo}>\n            {linkTitle}\n          </Tappable>\n        )}\n      </div>\n    </div>\n  );\n}\n\nRedirectLayout.propTypes = {\n  message: PropTypes.string.isRequired,\n  linkTo: PropTypes.string,\n  linkTitle: PropTypes.string\n};\n\nexport default RedirectLayout;\n","import React, { Component } from \"react\";\nimport forOwn from \"lodash/forOwn\";\n\n/**\n * A higher order component for using React lifecycle hooks with\n * functional components.\n */\nconst lifecycle = hooks => BaseComponent => {\n  class WrapperComponent extends Component {\n    render() {\n      return <BaseComponent {...this.props} />;\n    }\n  }\n\n  forOwn(hooks, (v, k) => (WrapperComponent.prototype[k] = v));\n\n  return WrapperComponent;\n};\n\nexport default lifecycle;\n","import { inject, observer } from \"mobx-react\";\nimport compose from \"lodash/fp/compose\";\n\nfunction mobxify(...stores) {\n  return compose(\n    inject(...stores),\n    observer\n  );\n}\n\nexport default mobxify;\n","import { action, decorate, observable } from \"mobx\";\n\nconst defaultTimeout = 1000;\n\n// TODO add queuing support\nexport class ToastStore {\n  _timer = null;\n\n  content = null;\n  // Time in ms\n  timeout = defaultTimeout;\n\n  show = (content, timeout = defaultTimeout) => {\n    // Hide if there is any `Toast`\n    this.hide();\n\n    this.content = content;\n    this.timeout = timeout;\n\n    this._timer = setTimeout(this.hide, timeout);\n  };\n\n  // Hides any active toast\n  hide = () => {\n    clearTimeout(this._timer);\n\n    this.content = null;\n    this.timeout = defaultTimeout;\n  };\n}\n\ndecorate(ToastStore, {\n  content: observable,\n  show: action,\n  hide: action\n});\n\nexport default new ToastStore();\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { mobxify } from \"../hoc\";\nimport { ToastStore } from \"../../stores/toastStore\";\n\n// Single component controlled by `toastStore`\nfunction Toast({ toastStore }) {\n  if (!toastStore.content) return null;\n\n  return (\n    <div className=\"toast\">\n      <div className=\"toast-content\">{toastStore.content}</div>\n    </div>\n  );\n}\n\nToast.propTypes = {\n  toastStore: PropTypes.instanceOf(ToastStore)\n};\n\nexport default mobxify(\"toastStore\")(Toast);\n","export function isNullOrUndef(value) {\n  return value === null || value === undefined;\n}\n","import { isNullOrUndef } from \"./misc\";\n\nexport function createMatrix(rowSize, colSize, fill = -1) {\n  return new Array(rowSize).fill(new Array(colSize).fill(fill));\n}\n\nexport function iterateMatrix(matrix, callback) {\n  const rowSize = matrix.length;\n  const colSize = rowSize === 0 ? 0 : matrix[0].length;\n\n  let rowIndex = 0,\n    colIndex = 0;\n  // Traditional `while` is used instead of `Array.prototype.forEach` because\n  // we want to allow breaking loop by returning a non null value in callback\n  // or not used `for..in` loop because we want array indices as number not\n  // string\n  while (rowIndex < rowSize) {\n    while (colIndex < colSize) {\n      const value = callback(rowIndex, colIndex, matrix);\n      if (!isNullOrUndef(value)) {\n        return value;\n      }\n      colIndex += 1;\n    }\n\n    colIndex = 0;\n    rowIndex += 1;\n  }\n}\n","import { decorate, observable, action, computed } from \"mobx\";\nimport cloneDeep from \"lodash/cloneDeep\";\n\nimport { randomInt } from \"../utils/random\";\nimport { iterateMatrix } from \"../utils/matrix\";\n\nclass Shape {\n  // static fixedShapes = [[[1, 1]], [[1, 1, 1]], [[1]]];\n  static fixedShapes = [\n    [[1, -1, -1, -1], [1, 1, 1, 1]],\n    [[-1, -1, -1, 1], [1, 1, 1, 1]],\n    [[1, 1, 1]],\n    [[-1, 1, -1], [1, 1, 1]]\n  ];\n\n  // Generates a random shape\n  static generate(id, grid) {\n    const matrix = cloneDeep(\n      Shape.fixedShapes[randomInt(0, Shape.fixedShapes.length - 1)]\n    );\n\n    iterateMatrix(matrix, (rowIndex, colIndex) => {\n      if (matrix[rowIndex][colIndex] !== -1) {\n        matrix[rowIndex][colIndex] = id;\n      }\n    });\n    return new Shape(id, matrix, grid);\n  }\n\n  matrix = null;\n  // Represented as [x, y], denotes the position of bottom left element of the\n  // shape in the grid\n  position = null;\n\n  constructor(id, matrix, grid) {\n    this.id = id;\n    this.matrix = matrix;\n    this.grid = grid;\n\n    this._init();\n  }\n\n  _init() {\n    this.advance();\n    this._advanceInterval = setInterval(() => this.advance(), this.grid.speed);\n  }\n\n  _canMove = position => {\n    const [gridRowIndex, gridColIndex] = this._calculateTopLeftPosition(\n      position\n    );\n\n    // Check if shape has already reached last row of grid or edge of column\n    if (\n      // Check if crosses last row\n      position[0] > this.grid.rowSize - 1 ||\n      // Check if crosses left most column\n      position[1] < 0 ||\n      // Check if crosses right most column\n      position[1] + this.colSize - 1 >= this.grid.colSize\n    ) {\n      return false;\n    }\n\n    // Returns true if cannot advance\n    const cannotAdvance = iterateMatrix(\n      this.matrix,\n      (rowIndex, colIndex, matrix) => {\n        const isFilledInShape = matrix[rowIndex][colIndex];\n        let isFilledInGrid = false;\n        if (\n          this.grid.isValidPosition(\n            gridRowIndex + rowIndex,\n            gridColIndex + colIndex\n          )\n        ) {\n          isFilledInGrid =\n            this.grid.matrix[gridRowIndex + rowIndex][gridColIndex + colIndex] >\n            -1;\n        }\n\n        if (isFilledInShape && isFilledInGrid) {\n          return true;\n        }\n      }\n    );\n\n    if (cannotAdvance) {\n      return false;\n    } else {\n      return true;\n    }\n  };\n\n  _calculateTopLeftPosition = bottomLeftPosition => {\n    const [rowIndex, colIndex] = bottomLeftPosition;\n    return [rowIndex - this.rowSize + 1, colIndex];\n  };\n\n  // `recursive = true` will make shape advance till it cannot advance anymore\n  advance = (recursive = false) => {\n    if (recursive && this._advanceInterval) {\n      clearInterval(this._advanceInterval);\n    }\n\n    let nextPosition;\n    if (!this.position) {\n      nextPosition = [0, this.initialColIndex];\n    } else {\n      const [rowIndex, colIndex] = this.position;\n      nextPosition = [rowIndex + 1, colIndex];\n    }\n\n    if (this._canMove(nextPosition)) {\n      this.position = nextPosition;\n      if (recursive) {\n        this.advance(recursive);\n      }\n    } else {\n      clearInterval(this._advanceInterval);\n      this.grid.placeAndEvaluate(this);\n    }\n  };\n\n  move = step => {\n    if (this.position) {\n      const [rowIndex, colIndex] = this.position;\n      const nextPosition = [rowIndex, colIndex + step];\n      if (this._canMove(nextPosition)) {\n        this.position = nextPosition;\n      }\n    }\n  };\n\n  stop = () => {\n    clearTimeout(this._advanceInterval);\n  };\n\n  get topLeftPosition() {\n    if (!this.position) return null;\n    return this._calculateTopLeftPosition(this.position);\n  }\n\n  get initialColIndex() {\n    return (\n      parseInt((this.grid.colSize - 1) / 2, 10) - parseInt(this.colSize / 2, 10)\n    );\n  }\n\n  get colSize() {\n    // Assuming that minimum `rowSize` is 1\n    return this.matrix[0].length;\n  }\n\n  get rowSize() {\n    return this.matrix.length;\n  }\n}\n\ndecorate(Shape, {\n  matrix: observable,\n  position: observable,\n  topLeftPosition: computed,\n  advance: action,\n  move: action,\n  quickPlace: action\n});\n\nexport default Shape;\n","export function randomInt(min, max) {\n  var random = Math.floor(Math.random() * (max - min + 1)) + min;\n\n  if (random > max) random = max;\n  return random;\n}\n","import { action, computed, observable, decorate, toJS } from \"mobx\";\nimport remove from \"lodash/remove\";\n\nimport { createMatrix, iterateMatrix } from \"../utils/matrix\";\nimport Shape from \"./shape\";\n\nclass Grid {\n  static defaultOptions = {\n    rowSize: 15,\n    colSize: 10,\n    // Speed with which shape will move this can be used as difficuly setting\n    speed: 500\n  };\n\n  matrix = null;\n  score = 0;\n  isStarted = false;\n  isEnded = false;\n  shape = null;\n  _nextShapeId = 0;\n\n  constructor(options = {}) {\n    this._options = Object.assign({}, Grid.defaultOptions, options);\n    this.matrix = createMatrix(this.rowSize, this.colSize);\n  }\n\n  _addShape = () => (this.shape = Shape.generate(this._nextShapeId++, this));\n\n  _evaluate = () => {\n    const clonedMatrix = toJS(this.matrix);\n    const removedRows = remove(clonedMatrix, o => o.every(v => v > -1));\n    const newRows = createMatrix(removedRows.length, this.colSize);\n    // Adds new empty rows at the top to account for the removed rows\n    Array.prototype.unshift.apply(clonedMatrix, newRows);\n\n    this.score += removedRows.length * this.colSize;\n    this.matrix = clonedMatrix;\n  };\n\n  _place = shape => {\n    const position = shape.topLeftPosition;\n    if (!position) {\n      return false;\n    } else {\n      const [gridRowIndex, gridColIndex] = position;\n\n      // Will return true if failed to place any element from shape in grid\n      const didPlaceFail = iterateMatrix(\n        shape.matrix,\n        (rowIndex, colIndex, matrix) => {\n          if (matrix[rowIndex][colIndex] > -1) {\n            if (\n              this.isValidPosition(\n                gridRowIndex + rowIndex,\n                gridColIndex + colIndex\n              )\n            ) {\n              this.matrix[rowIndex + gridRowIndex][colIndex + gridColIndex] =\n                shape.id;\n            } else {\n              return true;\n            }\n          }\n        }\n      );\n\n      if (didPlaceFail) {\n        return false;\n      } else {\n        // Dereference shape\n        this.shape = null;\n        return true;\n      }\n    }\n  };\n\n  isValidPosition = (rowIndex, colIndex) => {\n    return (\n      rowIndex >= 0 &&\n      rowIndex < this.rowSize &&\n      colIndex >= 0 &&\n      colIndex < this.colSize\n    );\n  };\n\n  move = step => {\n    if (!this.isEnded && this.shape) {\n      this.shape.move(step);\n    }\n  };\n\n  placeAndEvaluate = shape => {\n    const didPlaceSucceed = this._place(shape);\n    if (didPlaceSucceed) {\n      this._evaluate();\n      this._addShape();\n    } else {\n      this.isEnded = true;\n    }\n  };\n\n  quickPlace = () => {\n    if (!this.isEnded && this.shape) {\n      this.shape.advance(true);\n    }\n  };\n\n  restart = () => {\n    if (this.shape) this.shape.stop();\n\n    this.matrix = createMatrix(this.rowSize, this.colSize);\n    this.isStarted = false;\n    this.isEnded = false;\n    this.shape = null;\n    this.score = 0;\n    this._nextShapeId = 0;\n\n    this.start();\n  };\n\n  start = () => {\n    if (!this.isStarted) {\n      this._addShape();\n      this.isStarted = true;\n    }\n  };\n\n  get colSize() {\n    return this._options.colSize;\n  }\n\n  get rowSize() {\n    return this._options.rowSize;\n  }\n\n  get isAction() {\n    return this.isStarted && !this.isEnded;\n  }\n\n  get speed() {\n    return this._options.speed;\n  }\n\n  get matrixWithShapes() {\n    const matrix = toJS(this.matrix);\n    if (this.shape && this.shape.position) {\n      const [gridRowIndex, gridColIndex] = this.shape.topLeftPosition;\n\n      iterateMatrix(this.shape.matrix, (rowIndex, colIndex) => {\n        if (this.shape.matrix[rowIndex][colIndex] > -1) {\n          if (\n            this.isValidPosition(\n              gridRowIndex + rowIndex,\n              gridColIndex + colIndex\n            )\n          ) {\n            matrix[gridRowIndex + rowIndex][\n              gridColIndex + colIndex\n            ] = this.shape.id;\n          }\n        }\n      });\n    }\n\n    return matrix;\n  }\n}\n\ndecorate(Grid, {\n  matrix: observable,\n  shape: observable,\n  isStarted: observable,\n  isEnded: observable,\n  score: observable,\n  _addShape: action,\n  _evaluate: action,\n  _place: action,\n  placeAndEvaluate: action,\n  restart: action,\n  start: action,\n  matrixWithShapes: computed\n});\n\nexport default Grid;\n","import Grid from \"../models/grid\";\nimport { decorate, observable, action } from \"mobx\";\n\nclass GameStore {\n  instance = new Grid();\n\n  start = () => {\n    this.instance.start();\n  };\n\n  retry = () => {\n    this.instance.restart();\n  };\n\n  move = step => {\n    if (this.instance) this.instance.move(step);\n  };\n\n  place = () => {\n    if (this.instance) this.instance.quickPlace();\n  };\n}\n\ndecorate(GameStore, {\n  instance: observable,\n  start: action\n});\n\nexport default new GameStore();\n","import React from \"react\";\nimport compose from \"lodash/fp/compose\";\n\nimport { lifecycle, mobxify } from \"../../components/hoc\";\nimport gameStore from \"../../stores/gameStore\";\n\nconst defaultColor = \"#f2f2f2\";\n\nconst colors = [\n  \"#69A2B0\",\n  \"#659157\",\n  \"#E05263\",\n  \"#477998\",\n  \"#663F46\",\n  \"#7692FF\"\n];\n\nconst gameEventsHandler = event => {\n  const store = gameStore;\n  if (!store.instance) return;\n\n  const { keyCode } = event;\n  switch (keyCode) {\n    // Left arrow\n    case 37:\n      store.move(-1);\n      break;\n    // Right arrow\n    case 39:\n      store.move(1);\n      break;\n    // Down arrow\n    case 40:\n      store.place();\n      break;\n    default:\n    // Ignore\n  }\n};\n\nfunction GameView({ gameStore: store }) {\n  const grid = store.instance;\n  const matrix = grid.matrixWithShapes;\n\n  return (\n    <div className=\"game-grid\">\n      {matrix.map((row, rowIndex) => (\n        <div key={`row/${rowIndex}`} className=\"game-grid-row\">\n          {row.map((item, colIndex) => (\n            <div\n              key={`col/${colIndex}`}\n              style={{\n                backgroundColor:\n                  item > -1 ? colors[item % colors.length] : defaultColor\n              }}\n              className=\"game-grid-col\"\n            />\n          ))}\n        </div>\n      ))}\n    </div>\n  );\n}\n\nconst hoc = compose(\n  lifecycle({\n    componentDidMount() {\n      document.addEventListener(\"keydown\", gameEventsHandler);\n    },\n\n    componentWillUnmount() {\n      document.removeEventListener(\"keydown\", gameEventsHandler);\n    }\n  }),\n  mobxify(\"gameStore\")\n);\n\nexport default hoc(GameView);\n","import React from \"react\";\n\nimport { Icon, Tappable } from \"../../components/general\";\nimport { mobxify } from \"../../components/hoc\";\n\nfunction GameControls({ gameStore: store, toastStore }) {\n  const grid = store.instance;\n\n  function scoreUi() {\n    return (\n      <div className=\"game-score-container game-detail sep-b\">\n        <div className=\"title mgn-b\">Score</div>\n        <div className=\"game-score\">\n          {grid.score.toString().padStart(4, \"0\")}\n        </div>\n      </div>\n    );\n  }\n\n  function controlsUi() {\n    return (\n      <div className=\"game-controls-container game-detail sep-b\">\n        <div className=\"title mgn-b\">Controls</div>\n        <div className=\"game-controls\">\n          <div className=\"game-control\">\n            <div className=\"game-control-label\">Rotate</div>\n            <Tappable\n              className=\"btn btn-small\"\n              onClick={() => toastStore.show(\"Not yet implemented\")}\n            >\n              <Icon name=\"arrow_upward\" />\n            </Tappable>\n          </div>\n        </div>\n        <div className=\"game-controls\">\n          <div className=\"game-control\">\n            <Tappable className=\"btn btn-small\" onClick={() => store.move(-1)}>\n              <Icon name=\"arrow_back\" />\n            </Tappable>\n            <div className=\"game-control-label\">Move Left</div>\n          </div>\n          <div className=\"game-control\">\n            <Tappable className=\"btn btn-small\" onClick={() => store.place()}>\n              <Icon name=\"arrow_downward\" />\n            </Tappable>\n            <div className=\"game-control-label\">Quick Place</div>\n          </div>\n          <div className=\"game-control\">\n            <Tappable className=\"btn btn-small\" onClick={() => store.move(1)}>\n              <Icon name=\"arrow_forward\" />\n            </Tappable>\n            <div className=\"game-control-label\">Move Right</div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  function actionsUi() {\n    let actionProps;\n    if (!grid.isStarted) {\n      actionProps = {\n        children: \"Start Game\",\n        className: \"btn btn-small\",\n        onClick: () => store.start()\n      };\n    } else {\n      actionProps = {\n        children: \"Restart Game\",\n        className: \"btn btn-danger btn-small\",\n        onClick: () => store.retry()\n      };\n    }\n\n    return (\n      <div className=\"game-actions game-detail sep-b\">\n        <div className=\"title mgn-b\">Actions</div>\n        <Tappable {...actionProps} />\n      </div>\n    );\n  }\n\n  function statusUi() {\n    let statusProps;\n    if (!grid.isStarted) {\n      statusProps = { children: \"Not Started\" };\n    } else if (!grid.isEnded) {\n      statusProps = { children: \"In Progress\", className: \"primary\" };\n    } else {\n      statusProps = { children: \"Game Ended!\", className: \"danger\" };\n    }\n\n    return (\n      <div className=\"game-status game-detail sep-b\">\n        <div className=\"title mgn-b\">Status</div>\n        <div {...statusProps} />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"game-details\">\n      {scoreUi()}\n      {controlsUi()}\n      {actionsUi()}\n      {statusUi()}\n    </div>\n  );\n}\n\nexport default mobxify(\"gameStore\", \"toastStore\")(GameControls);\n","import React from \"react\";\n\nimport { Header, PageMeta } from \"../../components/general\";\nimport { mobxify } from \"../../components/hoc\";\nimport GameView from \"./GameView\";\nimport GameControls from \"./GameControls\";\n\nfunction HomePage({ gameStore: store }) {\n  return (\n    <div className=\"layout is-main\">\n      <PageMeta title=\"Home\" />\n      <Header title=\"Tetris\" />\n      <div className=\"layout-content\">\n        <div className=\"game\">\n          <GameView />\n          <GameControls />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default mobxify(\"gameStore\")(HomePage);\n","import gameStore from \"./gameStore\";\nimport toastStore from \"./toastStore\";\n\nexport default {\n  gameStore,\n  toastStore\n};\n","import React from \"react\";\nimport { Route, BrowserRouter as Router, Switch } from \"react-router-dom\";\nimport { Provider } from \"mobx-react\";\n\nimport \"./App.scss\";\n\nimport config from \"./utils/config\";\nimport HomePage from \"./pages/home/HomePage\";\nimport stores from \"./stores\";\nimport { Toast } from \"./components/general\";\n\nfunction App() {\n  return (\n    <Provider {...stores}>\n      <Router basename={`/demos/${config.projectName}`}>\n        <Switch>\n          <Route exact path=\"/\" component={HomePage} />\n        </Switch>\n\n        <Toast />\n      </Router>\n    </Provider>\n  );\n}\n\nexport default App;\n","export function addStickyHoverFix() {\n  document.addEventListener(\n    \"touchstart\",\n    function addTouchClass(e) {\n      document.documentElement.classList.add(\"can-touch\");\n      document.removeEventListener(\"touchstart\", addTouchClass, false);\n    },\n    false\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\nimport { addStickyHoverFix } from \"./utils/stickyHover\";\n\n// On mobiles/touch enabled devices `:hover` is not removed on touch release.\n// So we handle it using below function.\naddStickyHoverFix();\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}