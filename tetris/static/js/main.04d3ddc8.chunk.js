(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{127:function(e,t,a){e.exports=a(279)},133:function(e,t,a){},279:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(27),o=a.n(r),c=a(21),s=a(12),l=a(16),u=(a(133),{projectName:"react-template"}),m=a(11),v=a(40),d=a(20),h=a.n(d);var f=function(e){var t=e.name,a=e.className;return i.a.createElement("i",{className:h()("material-icons",Object(m.a)({},a,a)),children:t})},p=a(38);var E=function(e){var t=e.className,a=e.component,n=e.disabled,r=Object(v.a)(e,["className","component","disabled"]);return i.a.createElement(a||"a",Object(p.a)({className:h()("tappable",{disabled:n},Object(m.a)({},t,t))},r))};var b=function(e){var t=e.title,a=e.backTo;return i.a.createElement("div",{className:"layout-header"},a&&i.a.createElement("div",{className:"layout-header-item"},i.a.createElement(E,{className:"btn btn-small",component:c.b,to:a},i.a.createElement(f,{name:"arrow_back"}))),i.a.createElement("div",{className:"layout-header-item layout-header-title"},t||"Blog"))};function g(e){var t=e.message,a=e.actionLabel,n=e.actionFn;return i.a.createElement("div",{className:"layout"},i.a.createElement("div",{className:"layout-content is-centered pad"},i.a.createElement("p",null,t),a&&n&&i.a.createElement(E,{className:"btn mgn-t",onClick:n},a)))}g.defaultProps={actionLabel:"Try Again"};var _=g;var w=a(119),y="React Template",x=["site_name","title","description","image","url"];var S=function(e){var t=Object(p.a)({},e,{site_name:y});return i.a.createElement(w.Helmet,null,t.title?i.a.createElement("title",null,t.title," | ",y):null,t.description?i.a.createElement("meta",{name:"description",content:t.description}):null,x.map(function(e,a){return t[e]?i.a.createElement("meta",{key:a,property:"og:"+e,content:t[e]}):null}))};var j=a(9),O=a(15),N=(a(125),a(120),a(126),a(121),a(122)),k=a.n(N);var z=function(){return k()(l.b.apply(void 0,arguments),l.c)},I=a(1),q=function e(){var t=this;Object(j.a)(this,e),this._timer=null,this.content=null,this.timeout=1e3,this.show=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;t.hide(),t.content=e,t.timeout=a,t._timer=setTimeout(t.hide,a)},this.hide=function(){clearTimeout(t._timer),t.content=null,t.timeout=1e3}};Object(I.h)(q,{content:I.m,show:I.d,hide:I.d});var A=new q;var T=z("toastStore")(function(e){var t=e.toastStore;return t.content?i.a.createElement("div",{className:"toast"},i.a.createElement("div",{className:"toast-content"},t.content)):null});var L=Object(l.c)(function(e){var t=e.grid.matrixWithShapes;return i.a.createElement("div",{className:"game"},t.map(function(e,t){return i.a.createElement("div",{key:"row/".concat(t),className:"game-row"},e.map(function(e,t){return i.a.createElement("div",{key:"col/".concat(t),className:"game-box"},e>-1?e:"")}))}))});var C=z("gameStore")(function(e){var t=e.gameStore;function a(e){switch(e.keyCode){case 37:t.instance.move(-1);break;case 39:t.instance.move(1)}}return i.a.createElement("div",{className:"layout is-main"},i.a.createElement(S,{title:"Home"}),i.a.createElement(b,{title:"Tetris"}),t.instance?i.a.createElement("div",{tabIndex:"0",onKeyDown:a},i.a.createElement(L,{grid:t.instance}),i.a.createElement("div",null,"Score: ",t.instance.score),t.instance.isEnded&&i.a.createElement("div",{className:"title"},"Game ended!")):i.a.createElement(_,{message:"Do you want to play tetris",actionLabel:"Start Game",actionFn:function(){return t.start()}}))}),G=a(17),R=a(123),W=a.n(R),B=a(124),D=a.n(B);function F(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return new Array(e).fill(new Array(t).fill(a))}function H(e,t){var a=Math.floor(Math.random()*(t-e+1))+e;return a>t&&(a=t),a}var J=function(){function e(t,a,n){var i=this;Object(j.a)(this,e),this.matrix=null,this.position=null,this.advance=function(){var e;if(i.position){var t=Object(G.a)(i.position,2);e=[t[0]+1,t[1]]}else e=[0,parseInt(i.grid.colSize/2,10)];i._canAdvance(e)?i.position=e:(clearInterval(i._advanceInterval),i.grid.placeAndEvaluate(i))},this.move=function(e){if(i.position){var t=Object(G.a)(i.position,2),a=t[0],n=t[1]+e;n>0&&n<i.grid.colSize&&(i.position=[a,n])}},this.stop=function(){clearTimeout(i._advanceInterval)},this.id=t,this.matrix=a,this.grid=n,this._init()}return Object(O.a)(e,null,[{key:"generate",value:function(t,a){var n=F(e.maxRow,e.maxCol),i=0,r=0;for(n[i][r]=t,r+=1;i<e.maxRow;){for(;r<e.maxCol;){var o=!1;i-1>=0||r-1>=0?(i-1>=0&&(o=n[i-1][r]>-1),!o&&r-1>=0&&(o=n[i][r-1]>-1)):o=!0;var c=H(0,1);o&&c&&(n[i][r]=t),r+=1}r=0,i+=1}return console.log(n),new e(t,n,a)}}]),Object(O.a)(e,[{key:"_init",value:function(){var e=this;this._advanceInterval=setInterval(function(){e.advance()},this.grid.speed)}},{key:"_canAdvance",value:function(e){for(var t=Object(G.a)(e,2),a=t[0],n=t[1],i=0,r=0;i<this.matrix.length;){if(a+i>=this.grid.rowSize)return!1;for(var o=this.matrix[i];r<o.length;){var c=o[r]>-1,s=this.grid.matrix[a+i][n+r]>-1;if(c&&s)return!1;r+=1}r=0,i+=1}return!0}}]),e}();J.maxRow=2,J.maxCol=4,Object(I.h)(J,{matrix:I.m,position:I.m,advance:I.d,move:I.d});var M=J,K=function(){function e(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(j.a)(this,e),this.matrix=null,this.score=0,this.isEnded=!1,this.queue=[],this._numShapes=0,this._init=function(){t.queue.push(M.generate(t._numShapes++,t)),t._shapeGenerationInterval=setInterval(function(){Object(I.n)(function(){return t.queue.push(M.generate(t._numShapes++,t))})},t.interval)},this._evaluate=function(){var e=D()(t.matrix,function(e){return e.every(function(e){return e>-1})});t.score+=e.length*t.colSize},this._place=function(e){if(e.position){var a=Object(G.a)(e.position,2),n=a[0],i=a[1];t.queue.shift();for(var r=0,o=0;r<e.matrix.length;){for(var c=e.matrix[r];o<c.length;)-1!==c[o]&&(t.matrix[r+n][o+i]=e.id),o+=1;o=0,r+=1}return!0}return!1},this.move=function(e){var a=t.queue[0];a&&a.move(e)},this.placeAndEvaluate=function(e){t._place(e)?t._evaluate():(clearInterval(t._shapeGenerationInterval),t.queue.forEach(function(e){return e.stop()}),t.isEnded=!0)},this._options=Object.assign({},e.defaultOptions,a),this.matrix=F(this.rowSize,this.colSize),this._init()}return Object(O.a)(e,[{key:"colSize",get:function(){return this._options.colSize}},{key:"rowSize",get:function(){return this._options.rowSize}},{key:"interval",get:function(){return this._options.interval}},{key:"speed",get:function(){return this._options.speed}},{key:"matrixWithShapes",get:function(){var e=this,t=W()(this.matrix);return this.queue.forEach(function(a){if(a.position)for(var n=Object(G.a)(a.position,2),i=n[0],r=n[1],o=0,c=0,s=a.matrix;o<s.length;){for(var l=s[o];c<l.length;)-1!==l[c]&&i+o<e.rowSize&&r+c<e.colSize&&(t[i+o][r+c]=l[o]),c+=1;c=0,o+=1}}),t}}]),e}();K.defaultOptions={rowSize:7,colSize:7,interval:3e3,speed:1e3},Object(I.h)(K,{matrix:I.m,queue:I.m,isEnded:I.m,score:I.m,_evaluate:I.d,_place:I.d,placeAndEvaluate:I.d,matrixWithShapes:I.e});var P=K,Q=function e(){var t=this;Object(j.a)(this,e),this.instance=null,this.start=function(){t.instance=new P}};Object(I.h)(Q,{instance:I.m,start:I.d});var U={gameStore:new Q,toastStore:A};var V=function(){return i.a.createElement(l.a,U,i.a.createElement(c.a,{basename:"/demos/".concat(u.projectName)},i.a.createElement(s.c,null,i.a.createElement(s.a,{exact:!0,path:"/",component:C})),i.a.createElement(T,null)))};document.addEventListener("touchstart",function e(t){document.documentElement.classList.add("can-touch"),document.removeEventListener("touchstart",e,!1)},!1),o.a.render(i.a.createElement(V,null),document.getElementById("root"))}},[[127,1,2]]]);
//# sourceMappingURL=main.04d3ddc8.chunk.js.map