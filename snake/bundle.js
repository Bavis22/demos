!function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){n(1),e.exports=n(5)},function(e,t){},,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var r=n(6),o=i(r),a={renderGame:function(e){var t=document.getElementById("board"),n='<div class="game">';e.matrix.forEach(function(t,i){n+='<div class="game-row">',t.forEach(function(t,o){var a=["game-cell"];t===r.fillTypes.FOOD&&a.push("food"),t===r.fillTypes.SNAKE&&a.push("snake"),e.snake.isHead([i,o])&&a.push("is-head"),n+='\n        <div class="'+a.join(" ")+'">\n        </div>\n        '}),n+="</div>"}),n+="</div>",t.innerHTML=n},renderScore:function(e){var t=document.getElementById("score");t.innerText=e.score},renderStatus:function(e){if(e.ended){var t=document.getElementById("status");t.innerText="Game ended"}},renderButton:function(e){var t=document.getElementById("action");e.active?(t.innerText="Reset Game",t.className="button is-danger"):e.ended?(t.innerText="Restart Game",t.className="button"):(t.innerText="Start Game",t.className="button")}},s={board:new o["default"](40,40,a),reset:function(){s.board.stop(),s.board=new o["default"](40,40,a)}},u={start:function(){var e=document.getElementById("action");e.addEventListener("click",function(){s.board.started?(s.reset(),s.board.start()):s.board.start()})},actions:function(){document.addEventListener("keydown",function(e){switch(e.keyCode){case 37:case 38:case 39:case 40:s.board.changeDirection(e.keyCode)}})}};for(var c in u)u[c]()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.fillTypes=void 0;var o=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(u){r=!0,o=u}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(7),u=i(s),c=n(8),l=i(c),d=n(9),f=n(10),h=t.fillTypes={SNAKE:"snake",FOOD:"food"},v=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,i=arguments[2];r(this,e),this._rowSize=t,this._colSize=n,this._matrix=(0,d.createMatrix)(t,n),this._score=0,this._renderers=i,this.started=!1,this.ended=!1,this._createSnake(),this._createFood(),this.render()}return a(e,[{key:"start",value:function(){this.started||(this.started=!0,this._snake.run())}},{key:"allocatePosition",value:function(e){var t=this._generateEmptyPositions(),n=o(t[(0,f.randomInt)(0,t.length-1)],2),i=n[0],r=n[1];return this._matrix[i][r]=e,[i,r]}},{key:"changeDirection",value:function(e){this.active&&this._snake.changeDirection(e)}},{key:"deallocatePosition",value:function(e){var t=o(e,2),n=t[0],i=t[1];this._matrix[n][i]=null}},{key:"reallocatePosition",value:function(e,t){var n=o(e,2),i=n[0],r=n[1];this._matrix[i][r]=t}},{key:"didEatFood",value:function(){this._score+=this._food.weight,this._food.clear(),this._createFood()}},{key:"isValidPosition",value:function(e){var t=o(e,2),n=t[0],i=t[1];return n>=0&&n<this.rowSize&&i>=0&&i<this.colSize}},{key:"render",value:function(){for(var e in this._renderers)this._renderers[e](this)}},{key:"stop",value:function(){this._snake.stop(),this._food.clear()}},{key:"_createFood",value:function(){var e=this.allocatePosition(h.FOOD);this._food=new u["default"](1,e)}},{key:"_createSnake",value:function(){var e=this.allocatePosition(h.SNAKE);this._snake=new l["default"](e,this)}},{key:"_generateEmptyPositions",value:function(){var e=[];return this._matrix.forEach(function(t,n){t.forEach(function(t,i){t||e.push([n,i])})}),e}},{key:"rowSize",get:function(){return this._rowSize}},{key:"colSize",get:function(){return this._colSize}},{key:"matrix",get:function(){return this._matrix}},{key:"active",get:function(){return this.started&&!this.ended}},{key:"score",get:function(){return this._score}},{key:"snake",get:function(){return this._snake}}]),e}();t["default"]=v},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,i){n(this,e),this._weight=t,this._position=i}return i(e,[{key:"clear",value:function(){}},{key:"weight",get:function(){return this._weight}},{key:"position",get:function(){return this._position}}]),e}();t["default"]=r},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o,a=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(u){r=!0,o=u}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(6),c={UP:38,DOWN:40,LEFT:37,RIGHT:39},l={speed:400},d=(o={},r(o,c.UP,c.DOWN),r(o,c.DOWN,c.UP),r(o,c.LEFT,c.RIGHT),r(o,c.RIGHT,c.LEFT),o),f=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i(this,e),this._body=[t],this._length=1,this._board=n,this._options=Object.assign({},l,r),this._score=0,this._setInitialDirection(t),this._advance=this._advance.bind(this)}return s(e,[{key:"changeDirection",value:function(e){this._direction!==d[e]&&(this._direction=e),clearInterval(this._interval),this._advance(),this.run()}},{key:"isHead",value:function(e){var t=a(e,2),n=t[0],i=t[1];return this._body[0][0]===n&&this._body[0][1]===i}},{key:"run",value:function(){this._interval=setInterval(this._advance,this.speed)}},{key:"stop",value:function(){clearInterval(this._interval)}},{key:"_setInitialDirection",value:function(e){var t=a(e,2),n=(t[0],t[1]);this._board.colSize/2>n?this._direction=c.RIGHT:this._direction=c.LEFT}},{key:"_canAdvance",value:function(){var e=this._getNextPosition(),t=a(e,2),n=t[0],i=t[1];if(this._board.isValidPosition([n,i])){var r=!!this._body.find(function(e){return e[0]===n&&e[1]===i});return!r}return!1}},{key:"_advance",value:function(){if(this._canAdvance()){var e=this._getNextPosition();if(this._body.unshift(e),this._board.matrix[e[0]][e[1]]===u.fillTypes.FOOD)this._length+=1,this._board.didEatFood();else{var t=this._body.pop();this._board.deallocatePosition(t)}this._board.reallocatePosition(e,u.fillTypes.SNAKE)}else clearInterval(this._interval),this._board.ended=!0;this._board.render()}},{key:"_getNextPosition",value:function(){var e=a(this._body[0],2),t=e[0],n=e[1];switch(this._direction){case c.UP:return[t-1,n];case c.DOWN:return[t+1,n];case c.LEFT:return[t,n-1];case c.RIGHT:return[t,n+1];default:throw new Error("Invalid direction!")}}},{key:"speed",get:function(){return this._options.speed}}]),e}();t["default"]=f},function(e,t){"use strict";function n(e,t){return new Array(e).fill(0).map(function(){return new Array(t).fill(null)})}Object.defineProperty(t,"__esModule",{value:!0}),t.createMatrix=n},function(e,t){"use strict";function n(e,t){return Math.floor(Math.random()*(t-e+1))+e}Object.defineProperty(t,"__esModule",{value:!0}),t.randomInt=n}]);